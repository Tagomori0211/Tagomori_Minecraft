system_name: Minecraft_BE_Resource_Tracker
goal: SQL学習とWebダッシュボードによる資源状況の可視化

phases:
  # ----------------------------------------------------
  - phase_id: 1
    name: 解析フェーズ
    description: LevelDBからチェストデータを抽出し、JSON中間ファイルを作成する。
    input:
      source: Minecraft_BE__World_Backup_Directory
      format: LevelDB (キーバリューストア)
    output:
      file: Chests.json
      schema_example:
        - snapshot_date: "2025-11-14T10:00:00"
          x_coord: 100
          y_coord: 64
          z_coord: 200
          contents:
            - item_id: "minecraft:iron_ingot"
              quantity: 30
    technologies:
      - Python (メイン処理)
      - plyvel (LevelDB読み込み)
      - nbtlib (NBTデータ解析)

  # ----------------------------------------------------
  - phase_id: 2
    name: DB入力フェーズ
    description: JSONデータを読み込み、リレーショナルデータベースに格納する。
    input:
      file: Chests.json
      db_schema:
        - WorldSnapshots (PK: world_snapshot_id)
        - Items (PK: item_id, マスタデータ)
        - Chests (PK: chest_id, FK: world_snapshot_id)
        - ChestContents (PK: content_id, FK: chest_id, item_id)
    output:
      storage: SQL_Database (PostgreSQL / MySQL / SQLite)
      status: DBへのデータ永続化
    technologies:
      - Python
      - DB_Driver (psycopg2, mysql-connectorなど)
      - SQL (INSERT/CREATE DDL)

  # ----------------------------------------------------
  - phase_id: 3
    name: DBから抽出フェーズ
    description: SQLクエリでデータを集計し、Webアプリ用のJSONファイルを作成する。
    input:
      source: SQL_Database
      query_type: 集計クエリ (JOIN, GROUP BY, SUM)
    output:
      file: items.json
      schema_example:
        - name: "鉄インゴット"
          id: "minecraft:iron_ingot"
          count: 520
    technologies:
      - Python
      - SQL (SELECT, Aggregate Functions)
      - JSON

  # ----------------------------------------------------
  - phase_id: 4
    name: 出力フェーズ
    description: WebブラウザでJSONファイルを読み込み、グラフィカルに表示する。
    input:
      file: items.json
      interface: WEB_Browser
    output:
      display: Webダッシュボード (棒グラフ、円グラフなど)
    technologies:
      - HTML / CSS
      - JavaScript
      - Web_Framework (Flask/DjangoなどのWebサーバー)
      - Chart.js / D3.js (可視化ライブラリ)